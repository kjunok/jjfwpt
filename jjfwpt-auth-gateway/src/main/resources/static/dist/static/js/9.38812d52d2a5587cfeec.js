webpackJsonp([9],{BsHu:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={components:{IconSelect:r("qNfb").a},props:["clientHeight"],data:function(){return{styles:{height:"calc(100% - 55px)",overflow:"auto",paddingBottom:"53px",position:"static"},userInfoGrid:{columns:[{type:"selection",width:60,align:"center",fixed:"left"},{title:"操作",slot:"action",width:150,fixed:"left"},{title:"用户名",key:"username",width:150},{title:"昵称",key:"nickName",width:150},{title:"姓名",key:"name",width:150},{title:"图像",slot:"avatar",width:100},{title:"生日",key:"birthday",width:150},{title:"性别",key:"sex",width:100},{title:"邮箱",key:"email",width:200},{title:"手机号",key:"phone",width:150},{title:"状态",key:"status",width:100},{title:"创建人",key:"createUserId",width:200},{title:"创建时间",key:"createTime",width:200},{title:"修改人",key:"updateUserId",width:200},{title:"修改时间",key:"updateTime",width:200}],data:[],pageData:{total:100,current:1,size:10}},userInfoForm:{title:"添加",iconSelect:!1,showField:{id:!1,avatar:!1,username:!1,password:!1,salt:!1,name:!1,birthday:!1,sex:!1,email:!1,phone:!1,status:!1,createTime:!1,createUserId:!1,updateTime:!1,updateUserId:!1,lastLoginTime:!1,clientType:!1},select:{pid:[]},clearData:{id:"",avatar:"",username:"",password:"",salt:"",name:"",birthday:"",sex:"",email:"",phone:"",status:"",createTime:"",createUserId:"",updateTime:"",updateUserId:"",lastLoginTime:"",clientType:""},data:{id:"",avatar:"",username:"",password:"",salt:"",name:"",birthday:"",sex:"",email:"",phone:"",status:"",createTime:"",createUserId:"",updateTime:"",updateUserId:"",lastLoginTime:"",clientType:""},validate:{avatar:[{required:!0,message:"请输入图像",trigger:"blur"}],username:[{required:!0,message:"请输入用户名",trigger:"blur"}],name:[{required:!0,message:"请输入姓名",trigger:"blur"}],birthday:[{required:!0,message:"请输入生日",trigger:"blur"}],sex:[{required:!0,message:"请输入性别",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"}],phone:[{required:!0,message:"请输入手机号",trigger:"blur"}],status:[{required:!0,message:"请输入状态",trigger:"blur"}]},show:!1,userView:{data:{},show:!1}}}},methods:{checkUserName:function(){},showUserView:function(e){this.userInfoForm.userView.show=!0,this.userInfoForm.userView.data=this.userInfoGrid.data[e]},removeUser:function(e){var t=this;t.$Modal.confirm({title:"警告",content:"确定要删除吗？",onOk:function(){t.$util.req("/api/userService/delUser").setJsonDataStr({ids:e}).setSuccessfn(function(e){1e3===e.code?(t.$Notice.success({title:"操作成功",desc:"User删除成功"}),t.searchUserList()):t.$Notice.error({title:"操作失败",desc:"${cfg.UpModuleName}删除失败"})}).go(t)}})},changeType:function(e,t){t=t||function(){},"1"==e?(this.userInfoForm.showField.pid=!1,this.userInfoForm.showField.viewPath=!1,this.userInfoForm.showField.groupName=!1,this.userInfoForm.data.pid="0",t()):"2"!=e&&"3"!=e||("2"==e&&(this.userInfoForm.showField.groupName=!0),"3"==e&&(this.userInfoForm.showField.groupName=!1),this.userInfoForm.showField.pid=!0,this.userInfoForm.showField.viewPath=!0)},selectIcon:function(e){e(this)},saveOrUpdateuserInfoForm:function(e,t){if("add"===e)this.userInfoForm.title="添加",this.userInfoForm.data=this.userInfoForm.clearData,this.changeType(t.type);else if("update"===e){this.userInfoForm.title="修改";var r=this;r.$util.req("/api/userService/searchUser").setJsonDataStr({id:t.id}).setSuccessfn(function(e){var t=e.data;r.userInfoForm.data=t}).go(r)}this.userInfoForm.show=!0},saveOrUpdateUser:function(e){var t=this;this.$refs[e].validate(function(e){if(e){var r=t;r.$util.req("/api/userService/saveOrUpdateUser").setJsonDataStr(r.userInfoForm.data).setSuccessfn(function(e){1e3===e.code&&(r.$Notice.success({title:"操作成功",desc:"user"+r.userInfoForm.title+"成功"}),r.searchUserList(),r.userInfoForm.show=!1)}).setErrorfn(function(e){}).go(t)}})},searchUserList:function(){var e=this;e.$util.req("/api/userService/searchUserList").setJsonDataStr({start:e.userInfoGrid.pageData.current,size:e.userInfoGrid.pageData.size}).setSuccessfn(function(t){t.success&&(e.userInfoGrid.data=t.data.records,e.userInfoGrid.pageData.current=t.data.current,e.userInfoGrid.pageData.total=t.data.total)}).setErrorfn(function(e){}).go(e)},changePageNum:function(e){this.userInfoGrid.pageData.current=e,this.searchUserList()},changePageSize:function(e){this.userInfoGrid.pageData.size=e,this.searchUserList()}},mounted:function(){this.searchUserList()}},s={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticStyle:{background:"rgba(0, 0, 0, 0.36)"}},[r("Card",{staticStyle:{width:"100%",background:"rgba(0, 0, 0, 0.36)",border:"none","border-bottom":"white 1px solid"}},[r("Icon",{attrs:{type:"ios-bulb"}}),e._v("\n    说明\n    "),r("span",{staticStyle:{color:"#ffabfa"}},[e._v("菜单管理")])],1),e._v(" "),r("Tabs",{staticStyle:{color:"white","font-weight":"bold"}},[r("TabPane",{attrs:{label:"菜单列表",icon:"logo-apple"}},[r("Card",{staticStyle:{width:"100%",padding:"0px",background:"rgba(0, 0, 0, 0.36)","margin-top":"0px"},attrs:{bordered:!1}},[r("Button",{staticStyle:{float:"right"},attrs:{icon:"md-add",type:"default",size:"small",shape:"circle",ghost:""},on:{click:function(t){return e.saveOrUpdateuserInfoForm("add",{type:"1"})}}},[e._v("增加\n        ")]),e._v(" "),r("Icon",{attrs:{size:"20",type:"md-user"}}),e._v(" "),r("Input",{staticStyle:{width:"400px"},attrs:{suffix:"ios-search",size:"small",placeholder:"Enter text"}})],1),e._v(" "),r("Table",{ref:"table",staticStyle:{background:"rgba(0, 0, 0, 0.36)"},attrs:{height:e.clientHeight,columns:e.userInfoGrid.columns,data:e.userInfoGrid.data,showStripe:""},scopedSlots:e._u([{key:"name",fn:function(t){var a=t.row;return[r("Row",[2==a.type?r("Col",{attrs:{span:"4"}},[e._v(" ")]):e._e(),e._v(" "),3==a.type?r("Col",{attrs:{span:"8"}},[e._v(" ")]):e._e(),e._v(" "),r("Col",{attrs:{span:16}},[r("div",{staticStyle:{color:"rgba(13,30,13,0.58)","border-radius":"20px"},style:{color:2==a.type?"#2d8cf0":3==a.type?"green":"yellow"}},[r("Icon",{attrs:{size:"30",type:a.icon}}),e._v("  \n                "),r("strong",[e._v(e._s(a.name))]),e._v("  \n              ")],1)])],1)]}},{key:"state",fn:function(t){var a=t.row;return[r("strong",[e._v(e._s(e.$util.localDict.userinfo.state[a.state]))])]}},{key:"type",fn:function(t){var a=t.row;return[r("strong",[e._v(e._s(e.$util.localDict.userinfo.type[a.type]))])]}},{key:"avatar",fn:function(t){var a=t.row;return t.index,[r("div",{},[0==a.avatar.indexOf("http")?r("img",{staticStyle:{"border-radius":"15px","margin-left":"3px"},attrs:{src:a.avatar,width:"30",height:"30"}}):e._e(),e._v(" "),a.avatar?e._e():r("Icon",{attrs:{type:"ios-flower",size:"35"}})],1)]}},{key:"action",fn:function(t){var a=t.row,s=t.index;return[r("div",{staticStyle:{"text-align":"right"}},[r("Icon",{staticStyle:{color:"lightblue"},attrs:{size:"25",type:"md-search"},on:{click:function(t){return e.showUserView(s)}}}),e._v(" "),r("Icon",{staticStyle:{color:"green"},attrs:{size:"25",type:"ios-create"},on:{click:function(t){return e.saveOrUpdateuserInfoForm("update",{type:a.type,id:a.id})}}}),e._v(" "),r("Icon",{staticStyle:{color:"red"},attrs:{size:"25",type:"ios-trash"},on:{click:function(t){return e.removeUser(a.id)}}})],1)]}}])}),e._v(" "),r("div",{staticStyle:{margin:"10px"}},[r("div",{staticStyle:{float:"right"}},[r("Page",{staticStyle:{height:"40px"},attrs:{"show-total":"","show-elevator":"","show-sizer":"",total:e.userInfoGrid.pageData.total,current:e.userInfoGrid.pageData.current,"page-size":e.userInfoGrid.pageData.size},on:{"on-change":e.changePageNum,"on-page-size-change":e.changePageSize}})],1)])],1),e._v(" "),r("TabPane",{attrs:{label:"Windows",icon:"logo-windows"}}),e._v(" "),r("TabPane",{attrs:{label:"Linux",icon:"logo-tux"}},[e._v("标签三的内容")])],1),e._v(" "),r("Drawer",{attrs:{draggable:"",closable:!1,"mask-closable":!1,width:"1000"},model:{value:e.userInfoForm.show,callback:function(t){e.$set(e.userInfoForm,"show",t)},expression:"userInfoForm.show"}},[r("div",{staticClass:"ivu-drawer-header"},[r("Icon",{staticClass:"drawer-close-icon",attrs:{size:"20",type:"md-close"},on:{click:function(t){e.userInfoForm.show=!1}}}),e._v(" "),r("div",{staticClass:"ivu-drawer-header-inner"},[e._v(e._s(e.userInfoForm.title))])],1),e._v(" "),r("Card",{style:{height:e.clientHeight+220+"px"},attrs:{bordered:!1}},[r("Form",{ref:"userInfoForm",attrs:{model:e.userInfoForm.data,rules:e.userInfoForm.validate,"label-width":80}},[r("FormItem",{attrs:{label:"图像","label-position":"left",prop:"avatar"}},[r("Input",{attrs:{placeholder:""},model:{value:e.userInfoForm.data.avatar,callback:function(t){e.$set(e.userInfoForm.data,"avatar",t)},expression:"userInfoForm.data.avatar"}})],1),e._v(" "),r("FormItem",{attrs:{label:"用户名","label-position":"left",prop:"username"}},[r("Input",{attrs:{placeholder:""},model:{value:e.userInfoForm.data.username,callback:function(t){e.$set(e.userInfoForm.data,"username",t)},expression:"userInfoForm.data.username"}})],1),e._v(" "),r("FormItem",{attrs:{label:"姓名","label-position":"left",prop:"name"}},[r("Input",{attrs:{placeholder:""},model:{value:e.userInfoForm.data.name,callback:function(t){e.$set(e.userInfoForm.data,"name",t)},expression:"userInfoForm.data.name"}})],1),e._v(" "),r("FormItem",{attrs:{label:"生日","label-position":"left",prop:"birthday"}},[r("Input",{attrs:{placeholder:""},model:{value:e.userInfoForm.data.birthday,callback:function(t){e.$set(e.userInfoForm.data,"birthday",t)},expression:"userInfoForm.data.birthday"}})],1),e._v(" "),r("FormItem",{attrs:{label:"性别","label-position":"left",prop:"sex"}},[r("Input",{attrs:{placeholder:""},model:{value:e.userInfoForm.data.sex,callback:function(t){e.$set(e.userInfoForm.data,"sex",t)},expression:"userInfoForm.data.sex"}})],1),e._v(" "),r("FormItem",{attrs:{label:"邮箱","label-position":"left",prop:"email"}},[r("Input",{attrs:{placeholder:""},model:{value:e.userInfoForm.data.email,callback:function(t){e.$set(e.userInfoForm.data,"email",t)},expression:"userInfoForm.data.email"}})],1),e._v(" "),r("FormItem",{attrs:{label:"手机号","label-position":"left",prop:"phone"}},[r("Input",{attrs:{placeholder:""},model:{value:e.userInfoForm.data.phone,callback:function(t){e.$set(e.userInfoForm.data,"phone",t)},expression:"userInfoForm.data.phone"}})],1),e._v(" "),r("FormItem",{attrs:{label:"状态","label-position":"left",prop:"status"}},[r("Input",{attrs:{placeholder:""},model:{value:e.userInfoForm.data.status,callback:function(t){e.$set(e.userInfoForm.data,"status",t)},expression:"userInfoForm.data.status"}})],1)],1),e._v(" "),r("div",{staticClass:"demo-drawer-footer",staticStyle:{margin:"auto"}},[r("Button",{staticStyle:{"margin-right":"8px"},on:{click:function(t){e.userInfoForm.show=!1}}},[e._v("取消")]),e._v(" "),r("Button",{attrs:{type:"primary"},on:{click:function(t){return e.saveOrUpdateUser("userInfoForm")}}},[e._v("提交")])],1)],1)],1),e._v(" "),r("IconSelect",{attrs:{clientHeight:e.clientHeight,show:e.userInfoForm.iconSelect},on:{iconSelectListen:e.selectIcon}}),e._v(" "),r("Drawer",{attrs:{draggable:"",closable:!1,"mask-closable":!1,width:"1000"},model:{value:e.userInfoForm.userView.show,callback:function(t){e.$set(e.userInfoForm.userView,"show",t)},expression:"userInfoForm.userView.show"}},[r("div",{staticClass:"ivu-drawer-header"},[r("Icon",{staticClass:"drawer-close-icon",attrs:{size:"20",type:"md-close"},on:{click:function(t){e.userInfoForm.userView.show=!1}}}),e._v(" "),r("div",{staticClass:"ivu-drawer-header-inner"},[e._v("详情")])],1),e._v(" "),r("Card",{style:{height:e.clientHeight+220+"px"},attrs:{bordered:!1}},e._l(e.userInfoGrid.columns,function(t,a){return t.key?r("Row",{key:a,staticStyle:{height:"40px","margin-top":"5px",background:"rgba(4,9,7,0.2)","line-height":"35px","border-radius":"6px"},attrs:{type:"flex"}},[r("Col",{attrs:{span:"4"}},[r("div",{staticStyle:{color:"rgb(167,225,230)",padding:"5px","text-align":"center","font-weight":"bold"}},[e._v("\n            "+e._s(t.title)+"\n          ")])]),e._v(" "),r("Col",{attrs:{span:"20"}},[r("div",{staticStyle:{color:"rgba(159,216,209,0.65)",padding:"5px"}},["icon"==t.key?r("div",[r("Icon",{attrs:{size:"30",type:e.userInfoForm.userView.data[t.key||t.slot]}})],1):r("div",[e.userInfoForm.userView.data[t.key||t.slot]?r("span",{staticStyle:{color:"yellow"}},[e._v("\n                            "+e._s(e.userInfoForm.userView.data[t.key||t.slot])+"\n                          ")]):r("span")])])])],1):e._e()}),1)],1)],1)},staticRenderFns:[]};var o=r("VU/8")(a,s,!1,function(e){r("wJE5")},null,null);t.default=o.exports},wJE5:function(e,t){}});
//# sourceMappingURL=9.38812d52d2a5587cfeec.js.map