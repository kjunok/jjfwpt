webpackJsonp([14],{Gf3I:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a("mvHQ"),r=a.n(o),s=a("L6bb"),c=a.n(s),n={data:function(){var t=this;return{showPrise:!1,cascadePhoneForm:{SMSBtn:!0,vCodeTime:60,ruleValidate:{phoneNumber:[{validator:function(e,a,o){""===a?o(new Error("手机号码不能为空！")):(t.cascadPhoneForm.SMSBtn=!0,/^1(3|4|5|6|7|8|9)\d{9}$/.test(a)?(t.cascadPhoneForm.SMSBtn=!1,o()):o(new Error("手机号码有误，请重填")))},trigger:"blur"}],phoneCode:[{required:!0,message:"短信验证码不能为空",trigger:"blur"}],readAgree:[{validator:function(t,e,a){!1===e?a(new Error("是否同意服务协议和隐私政策")):a()},trigger:"blur"}]},data:{phoneNumber:"",phoneCode:"",readAgree:!1}},cascadeAccountForm:{ruleValidate:{account:[{required:!0,message:"账号不能为空",trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"},{type:"string",min:6,message:"至少有6位密码",trigger:"blur"}]},data:{account:"",password:""}}}},methods:{vCodeTime:function(){},sendSMSMsg:function(){this.$util.req("/api/security/sms/send").setJsonDataStr({phoneNumber:this.cascadePhoneForm.data.phoneNumber}).go()},cascadePhone:function(t){var e=this;this.$refs[t].validate(function(t){t&&e.$util.req("/api/security/user/cascadePhone").setJsonDataStr(e.$jq.extend({},e.cascadeAccountForm.data,e.$route.params)).setSuccessfn(function(t){}).go(e)})},cascadeAccount:function(t){var e=this,a=this;this.$refs[t].validate(function(t){t&&e.$util.req("/api/security/user/cascadeAccount").setJsonDataStr(e.$jq.extend({},e.cascadeAccountForm.data,e.$route.params,{password:c()(e.cascadeAccountForm.data.password)})).setSuccessfn(function(t){1e3===t.code?(sessionStorage.setItem("token",t.data.token),delete t.data.token,sessionStorage.setItem("userinfo",r()(t.data)),a.$store.commit("setUserInfo",{id:t.data.id}),a.$util.dynamicRouters(a,function(t){a.$router.addRoutes(t),a.$router.push({path:"/index/indexHome"})})):t.code}).go(e)})},handleReset:function(t){this.$refs[t].resetFields()}}},i={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("Card",{staticStyle:{"border-radius":"0px"}},[o("div",{staticStyle:{width:"1000px",margin:"auto",height:"30px",padding:"0px","min-width":"1000px"}},[o("Row",[o("Col",{staticStyle:{"text-align":"right"},attrs:{span:"2"}},[o("img",{staticStyle:{width:"30px",height:"30px"},attrs:{src:a("dLd/")}})]),t._v(" "),o("Col",{attrs:{span:"4"}},[o("span",{staticStyle:{"font-size":"20px",color:"white",display:"block","line-height":"30px","margin-left":"10px"}},[t._v("关联账号")])])],1)],1)]),t._v(" "),o("br"),t._v(" "),o("br"),t._v(" "),o("Card",{staticStyle:{width:"900px",margin:"auto"}},[o("Tabs",{staticStyle:{color:"white","font-weight":"bold",height:"400px"}},[o("TabPane",{attrs:{label:"关联手机号"}},[o("br"),t._v(" "),o("br"),t._v(" "),o("Form",{ref:"cascadePhoneForm",staticStyle:{width:"500px",margin:"auto"},attrs:{model:t.cascadePhoneForm.data,rules:t.cascadePhoneForm.ruleValidate}},[t.showPrise?o("div",{staticStyle:{color:"#ff7708","font-size":"14px"}},[t._v("注册失败，请重试")]):t._e(),t._v(" "),o("FormItem",{attrs:{label:"",prop:"phoneNumber"}},[o("Input",{staticClass:"input-big",staticStyle:{height:"45px"},attrs:{placeholder:"请输入您的手机号码"},model:{value:t.cascadePhoneForm.data.phoneNumber,callback:function(e){t.$set(t.cascadePhoneForm.data,"phoneNumber",e)},expression:"cascadePhoneForm.data.phoneNumber"}},[o("Icon",{staticStyle:{"line-height":"40px","margin-left":"15px","margin-top":"2px",color:"white"},attrs:{slot:"prefix",type:"ios-phone-portrait",size:"26"},slot:"prefix"})],1)],1),t._v(" "),o("FormItem",[o("Row",[o("Col",{attrs:{span:"18"}},[o("FormItem",{attrs:{prop:"phoneCode"}},[o("Input",{staticClass:"input-big",attrs:{placeholder:"请输入短信验证码"},model:{value:t.cascadePhoneForm.data.phoneCode,callback:function(e){t.$set(t.cascadePhoneForm.data,"phoneCode",e)},expression:"cascadePhoneForm.data.phoneCode"}},[o("Icon",{staticStyle:{"line-height":"40px","margin-left":"15px","margin-top":"2px",color:"white"},attrs:{slot:"prefix",type:"ios-key-outline",size:"26"},slot:"prefix"})],1)],1)],1),t._v(" "),o("Col",{attrs:{span:"6"}},[o("Button",{staticStyle:{height:"45px",float:"right"},attrs:{type:"primary",disabled:t.cascadePhoneForm.SMSBtn},on:{click:function(e){return t.sendSMSMsg()}}},[t._v("获取验证码"+t._s(t.cascadePhoneForm.vCodeTime))])],1)],1)],1),t._v(" "),o("FormItem",{attrs:{prop:"readAgree"}},[o("Checkbox",{staticStyle:{height:"30px",width:"100%",color:"lightblue"},model:{value:t.cascadePhoneForm.data.readAgree,callback:function(e){t.$set(t.cascadePhoneForm.data,"readAgree",e)},expression:"cascadePhoneForm.data.readAgree"}},[t._v("我已阅读并同意\n              "),o("router-link",{attrs:{to:"/register"}},[t._v("《服务协议》")]),t._v("和\n              "),o("router-link",{attrs:{to:"/register"}},[t._v("《隐私政策》")])],1)],1),t._v(" "),o("FormItem",[o("Button",{staticStyle:{width:"100%",height:"45px"},attrs:{type:"success"},on:{click:function(e){return t.cascadePhone("cascadePhoneForm")}}},[t._v("确定")])],1)],1)],1),t._v(" "),o("TabPane",{attrs:{label:"关联IWant账号"}},[o("br"),t._v(" "),o("br"),t._v(" "),o("Form",{ref:"cascadeAccountForm",staticStyle:{width:"500px",margin:"auto"},attrs:{model:t.cascadeAccountForm.data,rules:t.cascadeAccountForm.ruleValidate}},[o("FormItem",{attrs:{label:"",prop:"account"}},[o("Input",{staticClass:"input-big",staticStyle:{height:"45px"},attrs:{placeholder:"账号/邮箱/手机号"},model:{value:t.cascadeAccountForm.data.account,callback:function(e){t.$set(t.cascadeAccountForm.data,"account",e)},expression:"cascadeAccountForm.data.account"}},[o("Icon",{staticStyle:{"line-height":"40px","margin-left":"15px","margin-top":"2px",color:"white"},attrs:{slot:"prefix",type:"ios-person-outline",size:"26"},slot:"prefix"})],1)],1),t._v(" "),o("FormItem",[o("FormItem",{attrs:{prop:"password"}},[o("Input",{staticClass:"input-big",attrs:{type:"password",placeholder:"请输入密码"},model:{value:t.cascadeAccountForm.data.password,callback:function(e){t.$set(t.cascadeAccountForm.data,"password",e)},expression:"cascadeAccountForm.data.password"}},[o("Icon",{staticStyle:{"line-height":"40px","margin-left":"15px","margin-top":"2px",color:"white"},attrs:{slot:"prefix",type:"ios-unlock-outline",size:"26"},slot:"prefix"})],1)],1)],1),t._v(" "),o("FormItem",[o("router-link",{staticStyle:{float:"right"},attrs:{to:"/register"}},[t._v("忘记密码?")])],1),t._v(" "),o("FormItem",[o("Button",{staticStyle:{width:"100%",height:"45px"},attrs:{type:"success"},on:{click:function(e){return t.cascadeAccount("cascadeAccountForm")}}},[t._v("登录")])],1)],1)],1)],1)],1),t._v(" "+t._s(t.$route.params)+"\n")],1)},staticRenderFns:[]},d=a("VU/8")(n,i,!1,null,null,null);e.default=d.exports}});
//# sourceMappingURL=14.4f843aca04216994cdd4.js.map