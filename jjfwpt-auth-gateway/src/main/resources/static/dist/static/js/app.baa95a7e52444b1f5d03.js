webpackJsonp([16],{"+skl":function(e,t){},"1jhQ":function(e,t,n){"use strict";var o=n("Wkna");t.a={DynamicRouters:function(e,t){o.a.doPost("/api/menuService/routes").setSuccessFunction(function(e){e.success&&function(){var o=[],r=e.data,i=function(e){r[e].viewPath&&o.push({path:r[e].viewPath,meta:{title:r[e].name,requireAuth:!0},component:function(t){return Promise.all([n.e(3),n.e(0)]).then(function(){var o=[n("mw/N")("./views"+r[e].viewPath)];t.apply(null,o)}.bind(this)).catch(n.oe)}})};for(var a in r)i(a);o.push({path:"/index/404",meta:{title:"无此页面"},component:function(e){return n.e(1).then(function(){var t=[n("HPw/")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"*",redirect:"/index/404"}),t([{path:"/index",meta:{title:"主页面",requireAuth:!0},children:o,component:function(e){return n.e(2).then(function(){var t=[n("8hXn")];e.apply(null,t)}.bind(this)).catch(n.oe)}}])}()}).setCompleteFunction(function(e){e.status||e.code}).execute()}}},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={data:function(){return{bgimg:"bg3.jpg",headerRegister:!0,headerLogin:!0,headerUserInfo:!1,clientHeight:""+document.documentElement.clientHeight,formInline:{user:"",password:""},ruleInline:{user:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{type:"string",min:6,message:"至少有6位密码",trigger:"blur"}]}}},mounted:function(){null!=sessionStorage.getItem("userinfo")&&(this.headerLogin=!1,this.headerRegister=!1,this.headerUserInfo=!0),this.clientHeight=""+document.documentElement.clientHeight,window.onresize=function(){this.clientHeight=""+document.documentElement.clientHeight,console.log(this.clientHeight)}},watch:{clientHeight:function(){this.changeFixed(this.clientHeight)}},methods:{listenMethod:function(e){e(this)},changeFixed:function(e){console.log(e),this.$refs.content.style.height=e},logout:function(){var e=this;this.$util.req("/api/security/user/logout").setSuccessfn(function(t){1e3===t.code&&(sessionStorage.removeItem("userinfo"),sessionStorage.removeItem("token"),e.headerLogin=!0,e.headerUserInfo=!1,e.headerRegister=!0,e.$router.push({path:"/login"}))}).setErrorfn(function(t){sessionStorage.removeItem("userinfo"),sessionStorage.removeItem("token"),e.headerLogin=!0,e.headerUserInfo=!1,e.headerRegister=!0,e.$router.push({path:"/login"})}).go()}}},r={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"layout",staticStyle:{height:"100%",width:"100%",margin:"0px",padding:"0px",border:"0px","background-size":"100% 100%"}},[t("Layout",{staticStyle:{"background-size":"100% 100%"},style:{backgroundImage:"url(../static/bg/"+this.bgimg+")"}},[t("Content",{ref:"content",staticStyle:{"min-width":"1000px"},style:{padding:"0px",height:this.clientHeight+"px",marginBottom:0}},[t("router-view",{staticStyle:{"min-width":"1000px"},on:{ListenContent:this.listenMethod}})],1)],1)],1)},staticRenderFns:[]};var i=n("VU/8")(o,r,!1,function(e){n("sZSq")},"data-v-4ed7809f",null).exports,a=n("/5sW"),c=n("NYxO"),s=n("BTaQ"),u=n.n(s),l=[{path:"/",meta:{title:"首页",requireAuth:!0},component:function(e){return n.e(4).then(function(){var t=[n("26dS")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"/login",meta:{title:"登录"},component:function(e){return Promise.all([n.e(0),n.e(5)]).then(function(){var t=[n("Quw4")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"/loginSucess",meta:{title:"登录成功"},component:function(e){return Promise.all([n.e(0),n.e(8)]).then(function(){var t=[n("3GOF")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{name:"bindPhone",path:"/bindPhone",meta:{title:"绑定手机号"},component:function(e){return Promise.all([n.e(0),n.e(14)]).then(function(){var t=[n("Gf3I")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{name:"myResume",path:"/myResume",meta:{title:"我的简历"},component:function(e){return Promise.all([n.e(0),n.e(7)]).then(function(){var t=[n("Vbf8")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"/register",meta:{title:"注册用户"},component:function(e){return Promise.all([n.e(0),n.e(10)]).then(function(){var t=[n("c2lw")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"/index",meta:{title:"主页面",requireAuth:!0},component:function(e){return n.e(2).then(function(){var t=[n("8hXn")];e.apply(null,t)}.bind(this)).catch(n.oe)},children:[{path:"/index/404",meta:{title:"页面找不到"},component:function(e){return n.e(1).then(function(){var t=[n("HPw/")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"/index/indexHome",meta:{title:"控制台首页"},component:function(e){return n.e(13).then(function(){var t=[n("bxP6")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"/index/userinfo",meta:{title:"用户管理"},component:function(e){return Promise.all([n.e(0),n.e(9)]).then(function(){var t=[n("BsHu")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"/index/roleinfo",meta:{title:"角色管理"},component:function(e){return Promise.all([n.e(0),n.e(11)]).then(function(){var t=[n("jCuf")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"/index/menuinfo",meta:{title:"角色管理"},component:function(e){return Promise.all([n.e(0),n.e(12)]).then(function(){var t=[n("KUNB")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"/index/dictinfo",meta:{title:"数据字典"},component:function(e){return Promise.all([n.e(0),n.e(6)]).then(function(){var t=[n("+Ngw")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"*",redirect:"/index/404"}]},{path:"*",redirect:"/"}],p=n("v5o6"),h=n.n(p),f=n("/ocq"),d=(n("j1ja"),n("n12u"),n("7t+N")),m=n.n(d),g=n("mvHQ"),y=n.n(g),w=function(e,t){e.$Modal.error({title:"异常",width:400,render:function(e){return e({template:'<json-viewer         :value="message"         :expand-depth=5         copyable ></json-viewer>',data:function(){return{message:t}}})}})},v={req:function(e){var t=new Object;return t.url=e,t.setData=function(e){return t.dataV=e,t},t.setJsonDataStr=function(e){return t.dataV=y()(e),t},t.setType=function(e){return t.typeV=e,t},t.setHeader=function(e){return t.headerV=m.a.extend(t.headerV||{},e),t},t.setDataType=function(e){return t.dataTypeV=e,t},t.setSuccessfn=function(e){return t.successfnV=e,t},t.setComplete=function(e){return t.completeV=e,t},t.setErrorfn=function(e){return t.errorfnV=e,t},t.go=function(e){var n,o,r,i,a,c,s,u,l=sessionStorage.getItem("access_token");l&&t.setHeader({Authorization:"Bearer "+l}),n=t.url,o=t.dataV,r=t.typeV,i=t.dataTypeV,a=t.headerV,c=t.successfnV||function(){},s=function(n){try{n.responseJSON.error&&w(e,y()(n.responseJSON)),401===n.responseJSON.status?e.$Modal.warning({title:"登录已过期",content:"请重新登录",width:400,onOk:function(){sessionStorage.setItem("history",e.$route.path),e.$router.push({path:"/login"})}}):w(e,n.responseJSON),(t.errorfnV||function(){})(n)}catch(e){}},u=function(e){try{(t.completeV||function(){})(e)}catch(e){}},r=null==r||""==r||void 0===r?"post":r,i=null==i||""==i||void 0===i?"json":i,o=null==o||""==o||void 0===o?{date:(new Date).getTime()}:o,m.a.ajax({type:r,data:o,url:n,dataType:i,contentType:"application/json;charset=utf-8",beforeSend:function(e){for(var t in a)e.setRequestHeader(t,a[t])},success:function(e){c(e)},error:function(e){s(e)},complete:function(e){u(e)}})},t},errorMsg:w,getUrlParam:function(){var e=window.location.href,t={},n=e.substring(e.indexOf("#")+1,e.length).split("&");for(var o in n){var r=n[o].split("=");t[r[0]]=r[1]}return t},extend:m.a.extend,tlogin:function(e){"google"==e?window.location.href="https://accounts.google.com/o/oauth2/auth?redirect_uri=http://www.processon.com/google.jsp&response_type=token&client_id=524693152001.apps.googleusercontent.com&scope=https://www.googleapis.com/auth/userinfo.profile+https://www.googleapis.com/auth/userinfo.email":"qq"==e?window.location.href="https://graph.qq.com/oauth2.0/authorize?client_id=101580723&response_type=token&scope=all&redirect_uri=http://iwant.natapp1.cc/api/security/user/tlogin":"sina"==e?window.location.href="https://api.weibo.com/oauth2/authorize?client_id=355778041&response_type=code&redirect_uri=http://www.processon.com/login/sina":"mingdao"==e&&(window.location.href="https://api.mingdao.com/oauth2/authorize?app_key=5967E9E0B4ADA1B9C23B1893ABAED0F&response_type=code&redirect_uri=http://www.processon.com/login/mingdao")},localDict:{common:{state:{0:"启用",1:"禁用"}},menuinfo:{state:{0:"启用",1:"禁用"},type:{1:"功能模块",2:"模块菜单",3:"页面权限"}},userinfo:{}}},b=n("R0ti"),S=n.n(b),q=n("1jhQ"),x=(n("+skl"),n("x9ll"),this);a.default.use(f.a),a.default.use(u.a),a.default.use(S.a),a.default.use(c.a),a.default.prototype.$util=v,a.default.prototype.$jq=m.a;var O=new c.a.Store({state:{userinfo:""},mutations:{setUserInfo:function(e,t){e.userinfo=t}}});a.default.prototype.$store=O;var P={mode:"history",routes:l},T=new f.a(P);T.beforeEach(function(e,t,n){u.a.LoadingBar.start(),e.matched.some(function(e){return e.meta.requireAuth})?sessionStorage.access_token?O.state.userinfo.id?n():(O.commit("setUserInfo",{id:110233435435}),q.a.DynamicRouters(x,function(e){T.addRoutes(e),n({path:sessionStorage.currentPagePath})})):n({path:"/login",query:{redirect:e.fullPath}}):n()}),T.afterEach(function(e,t,n){u.a.LoadingBar.finish(),sessionStorage.setItem("currentPagePath",e.path),window.scrollTo(0,0)}),h.a.attach(document.body),a.default.config.productionTip=!1,new a.default({router:T,render:function(e){return e(i)}}).$mount("#app")},Wkna:function(e,t,n){"use strict";var o=n("mvHQ"),r=n.n(o),i=n("7t+N"),a=n.n(i),c={debug:!0,info:!0,error:!1,warn:!0},s=function(e){c.info&&console.log("[ INFO]::::",e)},u=function(e){c.error&&console.error("[ERROR]::::",e)},l=function(e){c.debug&&console.debug("[DEBUG]::::",e)},p=function(e){var t={url:e.url,type:e.type||"post",async:e.async||!1,dataType:e.dataType||"json",scriptCharset:e.scriptCharset||"utf-8",contentType:e.contentType||"application/json",data:e.data,success:e.success||function(){},error:e.error||h.errorFunction,complete:e.complete||h.completeFunction,beforeSend:e.beforeSend||h.beforeSendFunction};e.url||u("请设置请求地址"),a.a.ajax(t)},h={errorFunction:function(e,t,n,o){u({event:e,xhr:t,options:n,exc:o})},beforeSendFunction:function(){},completeFunction:function(e,t,n){s({event:e,xhr:t,options:n})}},f=function(){var e=new Object;return e.reqOpt={},e.setUrl=function(t){e.reqOpt.url=t},e.setData=function(t){return e.reqOpt.data=t,e},e.setType=function(t){return e.reqOpt.type=t,e},e.setAsync=function(t){return e.reqOpt.async=t,e},e.setDataType=function(t){return e.reqOpt.dataType=t,e},e.setJsonp=function(t){return e.reqOpt.jsonp=t,e},e.setScriptCharset=function(t){return e.reqOpt.scriptCharset=t,e},e.setContentType=function(t){return e.reqOpt.contentType=t,e},e.setSuccessFunction=function(t){return e.reqOpt.success=t,e},e.dataProcess=function(e){return e},e.setErrorFunction=function(t){return e.reqOpt.error=t,e},e.setCompleteFunction=function(t){return e.reqOpt.complete=t,e},e.setBeforeSendFunction=function(t){return e.reqOpt.beforeSend=t,e},e.go=function(){if(!e.reqOpt.type)throw new Error("使用go方法需要设置请求类型，请使用setType([get|post|del....]) 方法设置");p(e.reqOpt)},e.isRawBody=function(){return e.dataProcess=function(e){return r()(e)},this},e.POST=function(){e.setType("POST")},e.GET=function(){e.setType("GET")},e.execute=function(t){try{e.setBeforeSendFunction(function(e){var t=sessionStorage.getItem("access_token");t&&e.setRequestHeader("Authorization","Bearer "+t)}),e.setData(e.dataProcess(e.reqOpt.data)),p(e.reqOpt),t&&t(),l("["+e.reqOpt.type+"]::"+e.reqOpt.url)}catch(e){u(e)}},e};t.a={doGet:function(e){var t=f();return t.setUrl(e),t.GET(),t},doPost:function(e){console.log(e);var t=f();return t.setUrl(e),t.POST(),t}}},sZSq:function(e,t){},x9ll:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.baa95a7e52444b1f5d03.js.map